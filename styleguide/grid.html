<!doctype html>
<html lang="ko">

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title>마크업가이드 - GRID</title>
	<!-- 가이드 css -->
	<link rel="stylesheet" href="../guide_common/css/common.css">
	<link rel="stylesheet" href="../guide_common/css/shCoreDefault.css">
	<link rel="stylesheet" href="../assets/css/common.css">
	<link rel="stylesheet" href="../assets/css/vendor/jquery-ui.min.css">
	<link rel="stylesheet" href="../assets/css/vendor/pqgrid.min.css">
	<link rel="stylesheet" href="../assets/css/vendor/pqselect.min.css">
	<!-- <link rel="stylesheet" href="../assets/css/vendor/pqgrid.css"> -->

	<script src="../assets/js/vendor/jquery-3.4.1.min.js"></script>
	<script src="../assets/js/vendor/jquery-ui.min.js"></script>
	<script src="../assets/js/vendor/pqgrid.min.js"></script>
	<script src="../assets/js/vendor/pqselect.min.js"></script>
	<script src="../assets/js/vendor/jszip.min.js"></script>
	<script src="../assets/js/vendor/FileSaver.min.js"></script>
	<script src="../assets/js/common.js"></script>

	<script type="text/javascript" src=" ../guide_common/js/shCore.js"></script>
	<script type="text/javascript" src=" ../guide_common/js/shBrushXml.js"></script>
	<script type="text/javascript" src=" ../guide_common/js/shBrushCss.js"></script>
	<script type="text/javascript" src=" ../guide_common/js/shBrushJScript.js"></script>
	<script type="text/javascript" src=" ../guide_common/js/guide.js"></script>
	<script type="text/javascript">
		SyntaxHighlighter.all();
		$(document).ready(function () {
			$('.g-nav-snb').append(webSnb);
			$('.g-nav-snb ul li').eq(4).addClass("active");
		});
	</script>
</head>

<body>
	<div id="g-wrap" class="open-aside">
		<!-- aside -->
		<div id="g-aside">
			<!-- # 좌측컨텐츠 # -->
			<div class="wrap-aside">
				<!-- 사용자정보영역 -->
				<div class="box-info">
				</div>
				<!-- 네비게이션 : SNB -->
				<div class="g-nav-snb guide"></div>
			</div>
			<!-- # 컨트롤 # -->
			<div class="g-area-control">
				<a href="#none">좌측영역 펼침/닫기</a>
			</div>
		</div>
		<!-- //aside -->

		<div class="g-content">
			<div class="g-box-basic">
				<h2 class="g-tit-basic">Grid</h2>
				<!-- 탭그룹 -->
				<div class="row">
					<!-- <h3 class="g-tit-basic">List</h3> -->
					<div class="tab-wrap g-tab-sample ui-tab">
						<div class="tab-content">
							<div class="g-tab-inner">
								<!-- view -->
								<h3 class="g-tit-basic">ParamQuery Grid(table_list)</h3>
								<div id="grid_list" class="grid_list"></div>
								<style>

								</style>
								<script>
									$(function () {
										var colModel = [
											/* { dataIndx: "state", maxWidth: 60, minWidth: 60, align: "center", resizable: false,
												title: "",
												menuIcon: false,
												type: 'checkBoxSelection', cls: 'ui-state-default', sortable: false, editor: false,
												dataType: 'bool',
												cb: {
													all: false, //checkbox selection in the header affect current page only.
													header: true, //show checkbox in header. 
													select: true 
												}
											}, */
											{ title: "No", dataIndx: "no", width: 100, nodrag: true, nodrop: true, },
											{ title: "센터", dataIndx: "center", width: 240, nodrag: true, nodrop: true, },
											{ title: "그룹", dataIndx: "group", width: 240, nodrag: true, nodrop: true, },
											{ title: "이름", dataIndx: "name", width: 240, nodrag: true, nodrop: true, },
											{ title: "출생연도", dataIndx: "birth-year", width: 240, nodrag: true, nodrop: true, },
											{ title: "바우처 잔여 개수", dataIndx: "voucher-number", width: 240, nodrag: true, nodrop: true, },
											{ title: "바우처 유형", dataIndx: "voucher-type", width: 240, nodrag: true, nodrop: true, },
										];

										var dataModel = {
											"data": [
												{ "no": 1, "center": "설천면택시", "group": "아우토크립트", "name": "송진혁", "birth-year": "1949", "voucher-number": "49/50", "voucher-type": "개인" },
												{ "no": 1, "center": "설천면택시", "group": "아우토크립트", "name": "송진혁", "birth-year": "1949", "voucher-number": "49/50", "voucher-type": "개인" },
												{ "no": 1, "center": "설천면택시", "group": "아우토크립트", "name": "송진혁", "birth-year": "1949", "voucher-number": "49/50", "voucher-type": "개인" },
												{ "no": 1, "center": "설천면택시", "group": "아우토크립트", "name": "송진혁", "birth-year": "1949", "voucher-number": "49/50", "voucher-type": "개인" },
											]
										};


										var options = {
											scrollModel: { autoFit: true },
											width: '100%',
											minWidth: 980,
											height: 'flex',
											// minHeight: 200,
											rowHt: 45,
											rowHtHead: 45,
											collapsible: { on: false, toggle: false },

											columnBorders: true,
											rowBorders: true,
											stripeRows: true,

											postRenderInterval: -1, //synchronous post rendering.
											dataModel: dataModel,
											colModel: colModel,
											// selectionModel: { type: 'row', mode: 'block' },

											columnTemplate: {
												align: 'center', valign: 'center'
											},
											editable: false,
											freezeCols: 0,
											freezeRows: 0,

											numberCell: { show: false },
											reactive: true,
											roundCorners: false,
											resizable: true,

											showHeader: true,
											showTitle: false,
											showToolbar: false,
											showTop: false,
											showBottom: false,
											virtualX: true, virtualY: true,

											title: "",
											strNoRows: '조회된 데이터가 없습니다.',
										};

										var grid = pq.grid("#grid_list", options);
									});
								</script>

								<!-- //view -->
							</div>
						</div>
						<div class="tab-content">
							<div class="g-tab-inner">
								<p class="on">HTML</p>
								<pre class="syntax brush:html">


										</pre>
								<p>CSS</p>
								<pre class="syntax brush:css">

							</pre>
							</div>
						</div>

					</div>
				</div>

				<!-- 탭그룹 -->
				<div class="row">
					<!-- <h3 class="g-tit-basic">List</h3> -->
					<div class="tab-wrap g-tab-sample ui-tab">
						<div class="tab-content">
							<div class="g-tab-inner">
								<!-- view -->
								<h3 class="g-tit-basic">ParamQuery Grid</h3>
								<div id="grid_json" style="margin:auto;"></div>

								<ul class="lst_options">
									<li><a href="javascript:void(0);">접수 상세 정보</a></li>
									<li><a href="javascript:void(0);">주행 상세 정보</a></li>
									<li><a href="javascript:void(0);">배차 대기</a></li>
									<li><a href="javascript:void(0);">배차</a></li>
									<li><a href="javascript:void(0);">배차 정보 수정</a></li>
									<li><a href="javascript:void(0);">예약 취소</a></li>
								</ul>

								<ul class="lst_status">
									<li><a href="javascript:void(0);">배차 대기</a></li>
									<li><a href="javascript:void(0);">배차</a></li>
									<li><a href="javascript:void(0);">예약 취소</a></li>
								</ul>

								<script>
									$(function () {
										var dataModel = {
											"data": [
												{ "no": 1, "sido": "전라북도", "sigungu": "고창군", "agency": "고창택시", "center": "고창읍", "status": "주행 중", "receipt-date": "2022-10-18 12:31:00", "receipt-location": "", "receipt-location": [{ "case": "start", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }, { "case": "pass", "point": "하장백그룹회관", "detail": "전북 무주군 무주읍 한풍루로 30" }, { "case": "end", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }], "receipt-phone": "01023840543", "receipt-personnel": "2", "receipt-date": "2022-10-18 12:31:00", "receipt-plan": "2022-10-18 09:20:00", "receipt-consultant": "이재성", "driver-num": "전북36바3000", "driver-type": "개인", "driver-car": "택시", "driver-charge": "송진혁", "driving-personnel": "2", "driving-intime": "2022-10-18 12:31:00", "driving-outtime": "2022-10-18 12:31:00", "driving-time": "01시 00분 00초", "option": "case1" },
												{ "no": 2, "sido": "전라북도", "sigungu": "고창군", "agency": "고창택시", "center": "고창읍", "status": "주행 완료", "receipt-date": "2022-10-18 12:31:00", "receipt-location": "", "receipt-location": [{ "case": "start", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }, { "case": "pass", "point": "하장백그룹회관", "detail": "전북 무주군 무주읍 한풍루로 30" }, { "case": "end", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }], "receipt-phone": "01023840543", "receipt-personnel": "2", "receipt-date": "2022-10-18 12:31:00", "receipt-plan": "2022-10-18 09:20:00", "receipt-consultant": "이재성", "driver-num": "전북36바3000", "driver-type": "개인", "driver-car": "택시", "driver-charge": "송진혁", "driving-personnel": "2", "driving-intime": "2022-10-18 12:31:00", "driving-outtime": "2022-10-18 12:31:00", "driving-time": "01시 00분 00초", "option": "case2" },
												{ "no": 3, "sido": "전라북도", "sigungu": "고창군", "agency": "고창택시", "center": "고창읍", "status": "배차 대기", "receipt-date": "2022-10-18 12:31:00", "receipt-location": "", "receipt-location": [{ "case": "start", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }, { "case": "pass", "point": "하장백그룹회관", "detail": "전북 무주군 무주읍 한풍루로 30" }, { "case": "end", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }], "receipt-phone": "01023840543", "receipt-personnel": "2", "receipt-date": "2022-10-18 12:31:00", "receipt-plan": "2022-10-18 09:20:00", "receipt-consultant": "이재성", "driver-num": "전북36바3000", "driver-type": "개인", "driver-car": "택시", "driver-charge": "송진혁", "driving-personnel": "2", "driving-intime": "2022-10-18 12:31:00", "driving-outtime": "2022-10-18 12:31:00", "driving-time": "01시 00분 00초", "option": "case3" },
												{ "no": 4, "sido": "전라북도", "sigungu": "고창군", "agency": "고창택시", "center": "고창읍", "status": "배차 완료", "receipt-date": "2022-10-18 12:31:00", "receipt-location": "", "receipt-location": [{ "case": "start", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }, { "case": "pass", "point": "하장백그룹회관", "detail": "전북 무주군 무주읍 한풍루로 30" }, { "case": "end", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }], "receipt-phone": "01023840543", "receipt-personnel": "2", "receipt-date": "2022-10-18 12:31:00", "receipt-plan": "2022-10-18 09:20:00", "receipt-consultant": "이재성", "driver-num": "전북36바3000", "driver-type": "개인", "driver-car": "택시", "driver-charge": "송진혁", "driving-personnel": "2", "driving-intime": "2022-10-18 12:31:00", "driving-outtime": "2022-10-18 12:31:00", "driving-time": "01시 00분 00초", "option": "case3" },
												{ "no": 5, "sido": "전라북도", "sigungu": "고창군", "agency": "고창택시", "center": "고창읍", "status": "예약 취소", "receipt-date": "2022-10-18 12:31:00", "receipt-location": "", "receipt-location": [{ "case": "start", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }, { "case": "pass", "point": "하장백그룹회관", "detail": "전북 무주군 무주읍 한풍루로 30" }, { "case": "end", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }], "receipt-phone": "01023840543", "receipt-personnel": "2", "receipt-date": "2022-10-18 12:31:00", "receipt-plan": "2022-10-18 09:20:00", "receipt-consultant": "이재성", "driver-num": "전북36바3000", "driver-type": "개인", "driver-car": "택시", "driver-charge": "송진혁", "driving-personnel": "2", "driving-intime": "2022-10-18 12:31:00", "driving-outtime": "2022-10-18 12:31:00", "driving-time": "01시 00분 00초", "option": "case3" },
												{ "no": 6, "sido": "전라북도", "sigungu": "고창군", "agency": "고창택시", "center": "고창읍", "status": "주행 중", "receipt-date": "2022-10-18 12:31:00", "receipt-location": "", "receipt-location": [{ "case": "start", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }, { "case": "pass", "point": "하장백그룹회관", "detail": "전북 무주군 무주읍 한풍루로 30" }, { "case": "end", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }], "receipt-phone": "01023840543", "receipt-personnel": "2", "receipt-date": "2022-10-18 12:31:00", "receipt-plan": "2022-10-18 09:20:00", "receipt-consultant": "이재성", "driver-num": "전북36바3000", "driver-type": "개인", "driver-car": "택시", "driver-charge": "송진혁", "driving-personnel": "2", "driving-intime": "2022-10-18 12:31:00", "driving-outtime": "2022-10-18 12:31:00", "driving-time": "01시 00분 00초", "option": "case3" },
												{ "no": 7, "sido": "전라북도", "sigungu": "고창군", "agency": "고창택시", "center": "고창읍", "status": "주행 완료", "receipt-date": "2022-10-18 12:31:00", "receipt-location": "", "receipt-location": [{ "case": "start", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }, { "case": "pass", "point": "하장백그룹회관", "detail": "전북 무주군 무주읍 한풍루로 30" }, { "case": "end", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }], "receipt-phone": "01023840543", "receipt-personnel": "2", "receipt-date": "2022-10-18 12:31:00", "receipt-plan": "2022-10-18 09:20:00", "receipt-consultant": "이재성", "driver-num": "전북36바3000", "driver-type": "개인", "driver-car": "택시", "driver-charge": "송진혁", "driving-personnel": "2", "driving-intime": "2022-10-18 12:31:00", "driving-outtime": "2022-10-18 12:31:00", "driving-time": "01시 00분 00초", "option": "case3" },
												{ "no": 8, "sido": "전라북도", "sigungu": "고창군", "agency": "고창택시", "center": "고창읍", "status": "배차 대기", "receipt-date": "2022-10-18 12:31:00", "receipt-location": "", "receipt-location": [{ "case": "start", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }, { "case": "pass", "point": "하장백그룹회관", "detail": "전북 무주군 무주읍 한풍루로 30" }, { "case": "end", "point": "마곡그룹회관", "detail": "전북 무주군 무주읍 한풍루로351" }], "receipt-phone": "01023840543", "receipt-personnel": "2", "receipt-date": "2022-10-18 12:31:00", "receipt-plan": "2022-10-18 09:20:00", "receipt-consultant": "이재성", "driver-num": "전북36바3000", "driver-type": "개인", "driver-car": "택시", "driver-charge": "송진혁", "driving-personnel": "2", "driving-intime": "2022-10-18 12:31:00", "driving-outtime": "2022-10-18 12:31:00", "driving-time": "01시 00분 00초", "option": "case3" },
											]
										};

										function showStatus(rowIndx, grid, tg) {
											var st = $(window).scrollTop();
											var sl = $(window).scrollLeft();

											$(window).scroll(function (evt) {
												$('.lst_status').css({ 'display': 'none' });
												$('.btn_status').removeClass('on');
											});

											$(window).resize(function () {
												$('.lst_status').css({ 'display': 'none' });
												$('.btn_status').removeClass('on');
											});

											if (!tg.hasClass('on')) {
												$('.lst_status').css({
													'display': 'block',
													'left': tg.offset().left - $('.lst_status').outerWidth() / 2 + tg.outerWidth() / 2 - sl,
													'top': tg.offset().top + tg.outerHeight() - st
												});
												tg.addClass('on');
											} else {
												$('.lst_status').css({ 'display': 'none' });
												$('.btn_status').removeClass('on');
											}

											var rowData = grid.getRowData({ rowIndx: rowIndx });
											$('.lst_status li a').removeClass('disabled');

											switch (rowData.status) {
												case '배차 대기':
													$('.lst_status li a').eq(0).addClass('disabled');
													break;
												case '배차 완료':
													$('.lst_status li a').eq(1).addClass('disabled');
													break;
												case '주행 중':
													$('.lst_status li a').addClass('disabled');
													break;
												case '주행 완료':
													$('.lst_status li a').addClass('disabled');
													break;
												case '예약 취소':
													$('.lst_status li a').addClass('disabled');
													break;
											}
										}

										function showOptions(rowIndx, grid, tg) {
											var st = $(window).scrollTop();
											var sl = $(window).scrollLeft();

											$(window).scroll(function (evt) {
												$('.lst_options').css({ 'display': 'none' });
												$('.btn_more').removeClass('on');
											});

											$(window).resize(function () {
												$('.lst_options').css({ 'display': 'none' });
												$('.btn_more').removeClass('on');
											});

											if (!tg.hasClass('on')) {
												$('.lst_options').css({
													'display': 'block',
													'left': tg.offset().left - $('.lst_options').outerWidth() + tg.outerWidth() - sl,
													'top': tg.offset().top + tg.outerHeight() - st
												});
												tg.addClass('on');
											} else {
												$('.lst_options').css({ 'display': 'none' });
												$('.btn_more').removeClass('on');
											}

											var rowData = grid.getRowData({ rowIndx: rowIndx });
											$('.lst_options li a').removeClass('disabled');

											switch (rowData.status) {
												case '배차 대기':
													console.log('배차 대기11');
													$('.lst_options li a').eq(1).addClass('disabled');
													$('.lst_options li a').eq(2).addClass('disabled');
													$('.lst_options li a').eq(4).addClass('disabled');
													break;
												case '배차 완료':
													$('.lst_options li a').eq(1).addClass('disabled');
													break;
												case '주행 중':
													$('.lst_options li a').eq(2).addClass('disabled');
													$('.lst_options li a').eq(3).addClass('disabled');
													$('.lst_options li a').eq(5).addClass('disabled');
													break;
												case '주행 완료':
													$('.lst_options li a').eq(2).addClass('disabled');
													$('.lst_options li a').eq(3).addClass('disabled');
													$('.lst_options li a').eq(4).addClass('disabled');
													$('.lst_options li a').eq(5).addClass('disabled');
													break;
												case '예약 취소':
													$('.lst_options li a').eq(2).addClass('disabled');
													$('.lst_options li a').eq(3).addClass('disabled');
													$('.lst_options li a').eq(4).addClass('disabled');
													$('.lst_options li a').eq(5).addClass('disabled');
													break;
											}
										}

										$(document).on('click', function (evt) {
											if (!$(evt.target).hasClass('btn_more')) {
												$('.lst_options').css({ 'display': 'none' });
												$('.btn_more').removeClass('on');
											};

											if (!$(evt.target).hasClass('btn_status')) {
												$('.lst_status').css({ 'display': 'none' });
												$('.btn_status').removeClass('on');
											}
										});

										var colModel = [
											/* { dataIndx: "state", maxWidth: 60, minWidth: 60, align: "center", resizable: false,
													title: "",
													menuIcon: false,
													type: 'checkBoxSelection', cls: 'ui-state-default', sortable: false, editor: false,
													dataType: 'bool',
													cb: {
														all: false, //checkbox selection in the header affect current page only.
														header: true, //show checkbox in header. 
														select: true 
													}
											}, */
											{ title: "No", dataIndx: "no", width: 60, nodrag: true, nodrop: true, },
											{ title: "시도", dataIndx: "sido", width: 80, nodrag: true, nodrop: true, },
											{ title: "시군구", dataIndx: "sigungu", width: 80, nodrag: true, nodrop: true, },
											{ title: "소속기관", dataIndx: "agency", width: 80, nodrag: true, nodrop: true, },
											{ title: "센터", dataIndx: "center", width: 80, nodrag: true, nodrop: true, },
											{
												title: "주행 상태", dataIndx: "status", width: 90, nodrag: true, nodrop: true,
												render: function (ui) {
													var rowData = ui.rowData, dataIndx = ui.dataIndx;
													var val = rowData[dataIndx];
													var lst;
													if (val === '주행 중') {
														return "<button type='button' class='btn_status state state_green'>" + val + "</button>";
													} else if (val === '주행 완료') {
														return "<button type='button' class='btn_status state state_navy'>" + val + "</button>";
													} else if (val === '배차 대기') {
														return "<button type='button' class='btn_status state state_red'>" + val + "</button>";
													} else if (val === '배차 완료') {
														return "<button type='button' class='btn_status state state_blue'>" + val + "</button>";
													} else if (val === '예약 취소') {
														return "<button type='button' class='btn_status state state_gray'>" + val + "</button>";
													}
													// var result = "<button type='button' class='btn_sate'>" + val + "</button>";
													// return result;
												},
												postRender: function (ui) {
													var rowIndx = ui.rowIndx,
														grid = this,
														$cell = grid.getCell(ui);

													$cell.find(".btn_status").bind("click", function (evt) {
														var tg = $(this);
														showStatus(rowIndx, grid, tg);
													});
												},

											},

											{
												title: "<span class='header_title'>접수 정보<span>", dataIndx: "receipt", nodrag: true, nodrop: true, align: "center",
												colModel: [
													{ title: "접수 일시", dataIndx: "receipt-date", width: 100, nodrag: true, nodrop: true, cls: "hd_line br0", },
													{
														title: "탑승지/하차지", dataIndx: "receipt-location", width: 240, align: "left", nodrag: true, sortable: false, cls: "hd_line",
														render: function (ui) { // checkbox custom
															var items = ui.cellData;
															var ul = `<ul class='location_lst'>`;
															var ul_end = `</ul>`;
															var li = '';
															var cls = '';
															for (var i = 0; i < items.length; i++) {
																if (items[i].case === 'start') {
																	cls = 'icon_location1';
																} else if (items[i].case === 'pass') {
																	cls = 'icon_location2';
																} else {
																	cls = 'icon_location3';
																}
																li += `<li><i class='icon ${cls}'></i><span><strong>${items[i].point}</strong>(${items[i].detail})</span></li>`
															}
															result = ul + li + ul_end;
															return result;
														}
													},
													{ title: "예약자 전화번호", dataIndx: "receipt-phone", width: 120, nodrag: true, nodrop: true, cls: "hd_line", },
													{ title: "예약자 인원", dataIndx: "receipt-personnel", width: 90, nodrag: true, nodrop: true, cls: "hd_line", },
													{ title: "탑승 예정 일시", dataIndx: "receipt-plan", width: 100, nodrag: true, nodrop: true, cls: "hd_line", },
													{ title: "상담원", dataIndx: "receipt-consultant", width: 80, nodrag: true, nodrop: true, cls: "hd_line", },
												]
											},

											{
												title: "<span class='header_title'>기사 정보<span>", dataIndx: "driver", nodrag: true, nodrop: true, align: "center",
												colModel: [
													{ title: "차량번호", dataIndx: "driver-num", width: 100, nodrag: true, nodrop: true, sortable: false, cls: "hd_line br0", },
													{ title: "기사 구분", dataIndx: "driver-type", width: 100, nodrag: true, nodrop: true, sortable: false, cls: "hd_line", },
													{ title: "차량유형", dataIndx: "driver-car", width: 100, nodrag: true, nodrop: true, sortable: false, cls: "hd_line", },
													{ title: "담당 기사", dataIndx: "driver-charge", width: 100, nodrag: true, nodrop: true, cls: "hd_line", },
												]
											},
											{
												title: "<span class='header_title'>주행 정보<span>", dataIndx: "driving", nodrag: true, nodrop: true, align: "center",
												colModel: [
													{ title: "탑승 인원", dataIndx: "driving-personnel", width: 100, nodrag: true, nodrop: true, sortable: false, cls: "hd_line br0", },
													{ title: "탑승 일시", dataIndx: "driving-intime", width: 100, nodrag: true, nodrop: true, cls: "hd_line", },
													{ title: "하차 일시", dataIndx: "driving-outtime", width: 100, nodrag: true, nodrop: true, cls: "hd_line", },
													{ title: "주행 시간", dataIndx: "driving-time", width: 100, nodrag: true, nodrop: true, cls: "hd_line", },
												]
											},

											{
												title: "옵션", dataIndx: "option", width: 60, maxWidth: 60, minWidth: 60, nodrag: true, sortable: false,
												render: function (ui) {
													var rowData = ui.rowData, dataIndx = ui.dataIndx;
													var val = rowData[dataIndx];
													var lst;

													var result = "<i class='btn_more icon icon_option'><span class='sr_only'>더보기</span></i>";
													return result;
												},
												postRender: function (ui) {
													var rowIndx = ui.rowIndx,
														grid = this,
														$cell = grid.getCell(ui);

													$cell.find(".btn_more").bind("click", function (evt) {
														var tg = $(this);
														showOptions(rowIndx, grid, tg);
													});
												},
											},
										];

										var options = {
											width: 'auto',
											minWidth: 980,
											minHeight: 200,
											rowHt: 50,
											rowHtHead: 36,
											collapsible: { on: false, toggle: false },

											columnBorders: true,
											rowBorders: true,
											stripeRows: true,

											postRenderInterval: -1, //synchronous post rendering.
											dataModel: dataModel,
											colModel: colModel,
											selectionModel: { type: 'row', mode: 'block' },

											columnTemplate: {
												align: 'center', valign: 'center'
											},
											editable: false,
											freezeCols: 0,
											freezeRows: 0,

											numberCell: { show: false },
											reactive: true,
											roundCorners: false,
											resizable: true,

											showHeader: true,
											showTitle: false,
											showToolbar: false,
											showTop: false,
											showBottom: false,
											virtualX: true, virtualY: true,

											title: "",
											strNoRows: '조회된 데이터가 없습니다.',
										};
										var grid = pq.grid("#grid_json", options);
									});
								</script>

								<!-- //view -->
							</div>
						</div>
						<div class="tab-content">
							<div class="g-tab-inner">
								<p class="on">HTML</p>
								<pre class="syntax brush:html">


							</pre>
								<p>CSS</p>
								<pre class="syntax brush:css">

							</pre>
							</div>
						</div>

					</div>
				</div>
				<!-- //탭그룹 -->
				<!-- 탭그룹 -->
				<div class="row">
					<!-- <h3 class="g-tit-basic">List</h3> -->
					<div class="tab-wrap g-tab-sample ui-tab">
						<div class="tab-content">
							<div class="g-tab-inner">
								<!-- view -->
								<h3 class="g-tit-basic">ParamQuery Grid</h3>
								<div id="grid_json2" style="margin:auto;"></div>

								<style>

								</style>
								<script>
									$(function () {
										var dataModel2 = {
											"data": [
												{ "no": 1, "approval-status": "승인 대기", "verification": "정상", "sido": "경상남도", "sigungu": "창원시", "agency": "창원시", "center": "창원시청", "driving-intime": "2022-10-27 18:30:00", "driving-outtime": "2022-10-27 18:45:00", "receipt-location": [{ "case": "start", "detail": "부산 해운대구 중동 1015" }, { "case": "end", "detail": "부산 해운대구 남동 26" }], "receipt-location-matching": [{ "case": "start", "point": "등촌마을(상남면)" }, { "case": "end", "point": "신나면사무소" }], "driving-personnel": "1", "total-charge": "9,000", "passenger-paid-fare": "", "fare1": "1,500", "fare2": "1,000", "subsidy": "7,500", "total-driving-time": "00:05:30", "total-distance": "4.312", "car_num": "강원123사 5678", "driver-type": "개인", "car_type": "택시", "driver-charge": "택시", "driver-charge": "이재성", "driving-photo": "파일없음" },
												{ "no": 2, "approval-status": "승인 대기", "verification": "정상", "sido": "경상남도", "sigungu": "창원시", "agency": "창원시", "center": "창원시청", "driving-intime": "2022-10-27 18:30:00", "driving-outtime": "2022-10-27 18:45:00", "receipt-location": [{ "case": "start", "detail": "부산 해운대구 중동 1015" }, { "case": "end", "detail": "부산 해운대구 남동 26" }], "receipt-location-matching": [{ "case": "start", "point": "등촌마을(상남면)" }, { "case": "end", "point": "신나면사무소" }], "driving-personnel": "1", "total-charge": "9,000", "passenger-paid-fare": "1500", "fare1": "", "fare2": "", "subsidy": "7,500", "total-driving-time": "00:05:30", "total-distance": "4.312", "car_num": "강원123사 5678", "driver-type": "개인", "car_type": "택시", "driver-charge": "택시", "driver-charge": "이재성", "driving-photo": "" },
												{ "no": 3, "approval-status": "승인 완료", "verification": "정상", "sido": "경상남도", "sigungu": "창원시", "agency": "창원시", "center": "창원시청", "driving-intime": "2022-10-27 18:30:00", "driving-outtime": "2022-10-27 18:45:00", "receipt-location": [{ "case": "start", "detail": "부산 해운대구 중동 1015" }, { "case": "end", "detail": "부산 해운대구 남동 26" }], "receipt-location-matching": [{ "case": "start", "point": "등촌마을(상남면)" }, { "case": "end", "point": "신나면사무소" }], "driving-personnel": "1", "total-charge": "9,000", "passenger-paid-fare": "1500", "fare1": "", "fare2": "", "subsidy": "7,500", "total-driving-time": "00:05:30", "total-distance": "4.312", "car_num": "강원123사 5678", "driver-type": "개인", "car_type": "택시", "driver-charge": "택시", "driver-charge": "이재성", "driving-photo": "" },
												{ "no": 4, "approval-status": "정상", "verification": "정상", "sido": "경상남도", "sigungu": "창원시", "agency": "창원시", "center": "창원시청", "driving-intime": "2022-10-27 18:30:00", "driving-outtime": "2022-10-27 18:45:00", "receipt-location": [{ "case": "start", "detail": "부산 해운대구 중동 1015" }, { "case": "end", "detail": "부산 해운대구 남동 26" }], "receipt-location-matching": [{ "case": "start", "point": "등촌마을(상남면)" }, { "case": "end", "point": "신나면사무소" }], "driving-personnel": "1", "total-charge": "9,000", "passenger-paid-fare": "1500", "fare1": "", "fare2": "", "subsidy": "7,500", "total-driving-time": "00:05:30", "total-distance": "4.312", "car_num": "강원123사 5678", "driver-type": "개인", "car_type": "택시", "driver-charge": "택시", "driver-charge": "이재성", "driving-photo": "" },
												{ "no": 5, "approval-status": "비정상", "verification": "정상", "sido": "경상남도", "sigungu": "창원시", "agency": "창원시", "center": "창원시청", "driving-intime": "2022-10-27 18:30:00", "driving-outtime": "2022-10-27 18:45:00", "receipt-location": [{ "case": "start", "detail": "부산 해운대구 중동 1015" }, { "case": "end", "detail": "부산 해운대구 남동 26" }], "receipt-location-matching": [{ "case": "start", "point": "등촌마을(상남면)" }, { "case": "end", "point": "신나면사무소" }], "driving-personnel": "1", "total-charge": "9,000", "passenger-paid-fare": "1500", "fare1": "", "fare2": "", "subsidy": "7,500", "total-driving-time": "00:05:30", "total-distance": "4.312", "car_num": "강원123사 5678", "driver-type": "개인", "car_type": "택시", "driver-charge": "택시", "driver-charge": "이재성", "driving-photo": "" },
												{ "no": 6, "approval-status": "승인 대기", "verification": "정상", "sido": "경상남도", "sigungu": "창원시", "agency": "창원시", "center": "창원시청", "driving-intime": "2022-10-27 18:30:00", "driving-outtime": "2022-10-27 18:45:00", "receipt-location": [{ "case": "start", "detail": "부산 해운대구 중동 1015" }, { "case": "end", "detail": "부산 해운대구 남동 26" }], "receipt-location-matching": [{ "case": "start", "point": "등촌마을(상남면)" }, { "case": "end", "point": "신나면사무소" }], "driving-personnel": "1", "total-charge": "9,000", "passenger-paid-fare": "1500", "fare1": "", "fare2": "", "subsidy": "7,500", "total-driving-time": "00:05:30", "total-distance": "4.312", "car_num": "강원123사 5678", "driver-type": "개인", "car_type": "택시", "driver-charge": "택시", "driver-charge": "이재성", "driving-photo": "" },
												{ "no": 7, "approval-status": "승인 대기", "verification": "정상", "sido": "경상남도", "sigungu": "창원시", "agency": "창원시", "center": "창원시청", "driving-intime": "2022-10-27 18:30:00", "driving-outtime": "2022-10-27 18:45:00", "receipt-location": [{ "case": "start", "detail": "부산 해운대구 중동 1015" }, { "case": "end", "detail": "부산 해운대구 남동 26" }], "receipt-location-matching": [{ "case": "start", "point": "등촌마을(상남면)" }, { "case": "end", "point": "신나면사무소" }], "driving-personnel": "1", "total-charge": "9,000", "passenger-paid-fare": "1500", "fare1": "", "fare2": "", "subsidy": "7,500", "total-driving-time": "00:05:30", "total-distance": "4.312", "car_num": "강원123사 5678", "driver-type": "개인", "car_type": "택시", "driver-charge": "택시", "driver-charge": "이재성", "driving-photo": "" },
												{ "no": 8, "approval-status": "승인 대기", "verification": "정상", "sido": "경상남도", "sigungu": "창원시", "agency": "창원시", "center": "창원시청", "driving-intime": "2022-10-27 18:30:00", "driving-outtime": "2022-10-27 18:45:00", "receipt-location": [{ "case": "start", "detail": "부산 해운대구 중동 1015" }, { "case": "end", "detail": "부산 해운대구 남동 26" }], "receipt-location-matching": [{ "case": "start", "point": "등촌마을(상남면)" }, { "case": "end", "point": "신나면사무소" }], "driving-personnel": "1", "total-charge": "9,000", "passenger-paid-fare": "1500", "fare1": "", "fare2": "", "subsidy": "7,500", "total-driving-time": "00:05:30", "total-distance": "4.312", "car_num": "강원123사 5678", "driver-type": "개인", "car_type": "택시", "driver-charge": "택시", "driver-charge": "이재성", "driving-photo": "" },
												{ "no": 9, "approval-status": "승인 대기", "verification": "정상", "sido": "경상남도", "sigungu": "창원시", "agency": "창원시", "center": "창원시청", "driving-intime": "2022-10-27 18:30:00", "driving-outtime": "2022-10-27 18:45:00", "receipt-location": [{ "case": "start", "detail": "부산 해운대구 중동 1015" }, { "case": "end", "detail": "부산 해운대구 남동 26" }], "receipt-location-matching": [{ "case": "start", "point": "등촌마을(상남면)" }, { "case": "end", "point": "신나면사무소" }], "driving-personnel": "1", "total-charge": "9,000", "passenger-paid-fare": "1500", "fare1": "", "fare2": "", "subsidy": "7,500", "total-driving-time": "00:05:30", "total-distance": "4.312", "car_num": "강원123사 5678", "driver-type": "개인", "car_type": "택시", "driver-charge": "택시", "driver-charge": "이재성", "driving-photo": "" },
												{ "no": 10, "approval-status": "승인 대기", "verification": "정상", "sido": "경상남도", "sigungu": "창원시", "agency": "창원시", "center": "창원시청", "driving-intime": "2022-10-27 18:30:00", "driving-outtime": "2022-10-27 18:45:00", "receipt-location": [{ "case": "start", "detail": "부산 해운대구 중동 1015" }, { "case": "end", "detail": "부산 해운대구 남동 26" }], "receipt-location-matching": [{ "case": "start", "point": "등촌마을(상남면)" }, { "case": "end", "point": "신나면사무소" }], "driving-personnel": "1", "total-charge": "9,000", "passenger-paid-fare": "1500", "fare1": "", "fare2": "", "subsidy": "7,500", "total-driving-time": "00:05:30", "total-distance": "4.312", "car_num": "강원123사 5678", "driver-type": "개인", "car_type": "택시", "driver-charge": "택시", "driver-charge": "이재성", "driving-photo": "" },
											]
										};

										var colModel2 = [
											{
												dataIndx: "state", maxWidth: 60, minWidth: 60, align: "center", resizable: false,
												title: "",
												menuIcon: false,
												type: 'checkBoxSelection', cls: 'ui-state-default', sortable: false, editor: false,
												dataType: 'bool',
												cb: {
													all: false, //checkbox selection in the header affect current page only.
													header: true, //show checkbox in header. 
													select: true,
												},
												editable: function (ui) {
													return !ui.rowData.disabled
												},
											},
											{ title: "No", dataIndx: "no", width: 60, nodrag: true, nodrop: true, },
											{ title: "승인 상태", dataIndx: "approval-status", width: 80, nodrag: true, nodrop: true, },
											{ title: "검증 여부", dataIndx: "verification", width: 80, nodrag: true, nodrop: true, },
											{ title: "시도", dataIndx: "sido", width: 80, nodrag: true, nodrop: true, },
											{ title: "시군구", dataIndx: "sigungu", width: 80, nodrag: true, nodrop: true, },
											{ title: "소속기관", dataIndx: "agency", width: 80, nodrag: true, nodrop: true, },
											{ title: "센터", dataIndx: "center", width: 80, nodrag: true, nodrop: true, },
											{ title: "탑승 일시", dataIndx: "driving-intime", width: 100, nodrag: true, nodrop: true, },
											{ title: "하차 일시", dataIndx: "driving-outtime", width: 100, nodrag: true, nodrop: true, },
											{
												title: "탑승지/하차지", dataIndx: "receipt-location", width: 240, align: "left", nodrag: true, nodrop: true,
												render: function (ui) { // checkbox custom
													var items = ui.cellData;
													var ul = `<ul class='location_lst'>`;
													var ul_end = `</ul>`;
													var li = '';
													var cls = '';

													for (var i = 0; i < items.length; i++) {
														if (items[i].case === 'start') {
															cls = 'icon_location1';
														} else {
															cls = 'icon_location3';
														}
														li += `<li><i class='icon ${cls}'></i><span><strong>${items[i].detail}</strong></span></li>`
													}
													result = ul + li + ul_end;
													return result;
												}
											},
											{
												title: "탑승지/하차지<br>(승하차지점 매칭)", dataIndx: "receipt-location-matching", width: 240, align: "left", nodrag: true, nodrop: true,
												render: function (ui) { // checkbox custom
													var items = ui.cellData;
													var ul = `<ul class='location_lst'>`;
													var ul_end = `</ul>`;
													var li = '';
													var cls = '';

													for (var i = 0; i < items.length; i++) {
														if (items[i].case === 'start') {
															cls = 'icon_location1';
														} else {
															cls = 'icon_location3';
														}
														li += `<li><i class='icon ${cls}'></i><span><strong>${items[i].point}</strong></span></li>`
													}
													result = ul + li + ul_end;
													return result;
												}
											},
											{ title: "탑승 인원", dataIndx: "driving-personnel", width: 100, nodrag: true, nodrop: true, },
											{ title: "총 요금", dataIndx: "total-charge", width: 100, nodrag: true, nodrop: true, },
											{
												title: "승객 지불 요금", dataIndx: "passenger-paid-fare", width: 90, nodrag: true, nodrop: true,
												render: function (ui) { // checkbox custom
													var rowData = ui.rowData, dataIndx = ui.dataIndx;
													var val = rowData[dataIndx];
													let fare_lst = `<ul class='fare_lst'><li><span>최초 : ${ui.rowData.fare1}</span><sapn>수정 : ${ui.rowData.fare2}</span></li></ul>`;
													if (ui.rowData.fare1 !== '' && ui.rowData.fare2 !== '') {
														return fare_lst;
													}
												},
											},
											{ title: "보조금", dataIndx: "subsidy", width: 100, nodrag: true, nodrop: true, },
											{ title: "총 주행 시간", dataIndx: "total-driving-time", width: 100, nodrag: true, nodrop: true, },
											{ title: "총 주행 거리(km)", dataIndx: "total-distance", width: 100, nodrag: true, nodrop: true, },
											{ title: "차량 번호", dataIndx: "car_num", width: 80, nodrag: true, nodrop: true, },
											{ title: "기사 구분", dataIndx: "driver-type", width: 80, nodrag: true, nodrop: true, },
											{ title: "차량 구분", dataIndx: "car_type", width: 80, nodrag: true, nodrop: true, },
											{ title: "담당 기사", dataIndx: "driver-charge", width: 80, nodrag: true, nodrop: true, },
											{
												title: "주행 증빙 사진", dataIndx: "driving-photo", width: 80, nodrag: true, nodrop: true,
												render: function (ui) { // checkbox custom
													var rowData = ui.rowData, dataIndx = ui.dataIndx;
													var val = rowData[dataIndx];
													if (val === '파일없음') {
														return "<i class='icon icon_unfile'></i>";
													} else {
														return "<i class='icon icon_onfile'></i>"
													}
												},
											},
											{
												title: "상세 보기", dataIndx: "view-details", width: 80, nodrag: true, nodrop: true,

											},
										];
										var options2 = {
											scrollModel: { autoFit: false },
											width: 'auto',
											minWidth: 980,
											minHeight: 300,
											rowHt: 92,
											rowHtHead: 64,
											collapsible: { on: false, toggle: false },

											columnBorders: true,
											rowBorders: true,
											stripeRows: true,

											// postRenderInterval: -1, //synchronous post rendering.
											dataModel: dataModel2,
											colModel: colModel2,
											// selectionModel: { type: 'row', mode: 'block' },

											columnTemplate: {
												align: 'center', valign: 'center'
											},
											editable: false,
											freezeCols: 0,
											freezeRows: 0,

											numberCell: { show: false },
											reactive: true,
											roundCorners: false,
											resizable: false,

											showHeader: true,
											showTitle: false,
											showToolbar: false,
											showTop: false,
											showBottom: false,
											virtualX: true,
											virtualY: true,

											title: "",
											strNoRows: '조회된 데이터가 없습니다.',

											rowSelect: function (evt, ui) {
												console.log('rowSelect', ui);
											},
											selectChange: function (evt, ui) {
												console.log('selectChange', evt, ui);

											},
										};
										var grid = pq.grid("#grid_json2", options2);
									});
								</script>

								<!-- //view -->
							</div>
						</div>
						<div class="tab-content">
							<div class="g-tab-inner">
								<p class="on">HTML</p>
								<pre class="syntax brush:html">


										</pre>
								<p>CSS</p>
								<pre class="syntax brush:css">

										</pre>
							</div>
						</div>

					</div>
				</div>
				<!-- //탭그룹 -->

				<!-- 탭그룹 -->
				<div class="row">
					<!-- <h3 class="g-tit-basic">List</h3> -->
					<div class="tab-wrap g-tab-sample ui-tab">
						<div class="tab-content">
							<div class="g-tab-inner">
								<!-- view -->
								<h3 class="g-tit-basic">ParamQuery Grid</h3>
								<div id="grid_reservation" class="grid_list" style="margin:auto;"></div>

								<style>
									.merge_area {
										overflow: visible;
									}

									.merge_area>div {
										padding: 3px 0;
									}

									.bar {
										position: relative;
										height: 20px;
										background-color: steelblue;
									}

									.bar .not {
										position: absolute;
										height: 100%;
										left: 22%;
										width: 20%;
										background-color: rgb(197, 126, 18);
									}

									.bar .selected {
										position: absolute;
										/* height: 20px; */
										top: -12px;
										bottom: -12px;
										left: 13.2%;
										width: 5.5%;
										border-left: 3px solid #ff0000;
										border-right: 3px solid #ff0000;
									}
								</style>
								<script>
									$(function () {
										var dataModel2 = {
											"data": [
												{ "select": "배차", "driver": "이재성", "car_num": "울산 나 7433", "car_type": "택시", "notallowed": "11:30-15:20", "hour07": "", "hour08": "", "hour09": "", "hour10": "", "hour11": "", "hour12": "", "hour13": "", "hour14": "", "hour15": "", "hour16": "", "hour17": "", "hour18": "", "hour19": "", "hour20": "", "hour21": "" },
												{ "select": "배차", "driver": "이재성", "car_num": "울산 나 7433", "car_type": "택시", "notallowed": "11:20-15:00", "hour07": "", "hour08": "", "hour09": "", "hour10": "", "hour11": "", "hour12": "", "hour13": "", "hour14": "", "hour15": "", "hour16": "", "hour17": "", "hour18": "", "hour19": "", "hour20": "", "hour21": "" },
												{ "select": "배차", "driver": "이재성", "car_num": "울산 나 7433", "car_type": "택시", "notallowed": "11:10-15:30", "hour07": "", "hour08": "", "hour09": "", "hour10": "", "hour11": "", "hour12": "", "hour13": "", "hour14": "", "hour15": "", "hour16": "", "hour17": "", "hour18": "", "hour19": "", "hour20": "", "hour21": "" },
												{ "select": "배차", "driver": "이재성", "car_num": "울산 나 7433", "car_type": "택시", "notallowed": "11:00-15:10", "hour07": "", "hour08": "", "hour09": "", "hour10": "", "hour11": "", "hour12": "", "hour13": "", "hour14": "", "hour15": "", "hour16": "", "hour17": "", "hour18": "", "hour19": "", "hour20": "", "hour21": "" },
												{ "select": "배차", "driver": "이재성", "car_num": "울산 나 7433", "car_type": "택시", "notallowed": "10:50-15:00", "hour07": "", "hour08": "", "hour09": "", "hour10": "", "hour11": "", "hour12": "", "hour13": "", "hour14": "", "hour15": "", "hour16": "", "hour17": "", "hour18": "", "hour19": "", "hour20": "", "hour21": "" },
											]
										};

										var data_selected = '09:00-09:40';

										var colModel2 = [
											{ title: "선택", dataIndx: "select", width: 100, nodrag: true, nodrop: true, },
											{ title: "기사", dataIndx: "driver", width: 100, nodrag: true, nodrop: true, },
											{ title: "차량 번호", dataIndx: "car_num", width: 100, nodrag: true, nodrop: true, },
											{ title: "차량 유형", dataIndx: "car_type", width: 100, nodrag: true, nodrop: true, },
											{
												title: "07:00", dataIndx: "hour07", width: 100, nodrag: true, nodrop: true, cls: "merge_area",
												render: function (ui) {
													var rowData = ui.rowData, dataIndx = ui.dataIndx, rowIndx = ui.rowIndx;
													var val = rowData[dataIndx];
													var notallowed = rowData.notallowed;

													function calcPos(time) {
														var gap = 100 / 15;
														var start = time.split('-')[0];
														var start_hour = start.split(':')[0];
														var start_min = start.split(':')[1];
														var pos_left = (start_hour - 7) * gap + (start_min / 60 * gap);
														return pos_left;
													}

													function calcWd(time) {
														var gap = 100 / 15;
														var end = time.split('-')[1];
														var end_hour = end.split(':')[0];
														var end_min = end.split(':')[1];
														var wd = (end_hour - 7) * gap + (end_min / 60 * gap) - calcPos(time);
														return wd;
													}

													var result = "<div class='bar'>" +
														"<span class='selected' style='left:" + calcPos(data_selected) + "%;width:" + calcWd(data_selected) + "%;'></span>" +
														"<span class='not' style='left:" + calcPos(notallowed) + "%;width:" + calcWd(notallowed) + "%;'></span>" +
														"</div>";
													return result;
												},

											},
											{ title: "08:00", dataIndx: "hour08", width: 100, nodrag: true, nodrop: true, },
											{ title: "09:00", dataIndx: "hour09", width: 100, nodrag: true, nodrop: true, },
											{ title: "10:00", dataIndx: "hour10", width: 100, nodrag: true, nodrop: true, },
											{ title: "11:00", dataIndx: "hour11", width: 100, nodrag: true, nodrop: true, },
											{ title: "12:00", dataIndx: "hour12", width: 100, nodrag: true, nodrop: true, },
											{ title: "13:00", dataIndx: "hour13", width: 100, nodrag: true, nodrop: true, },
											{ title: "14:00", dataIndx: "hour14", width: 100, nodrag: true, nodrop: true, },
											{ title: "15:00", dataIndx: "hour15", width: 100, nodrag: true, nodrop: true, },
											{ title: "16:00", dataIndx: "hour16", width: 100, nodrag: true, nodrop: true, },
											{ title: "17:00", dataIndx: "hour17", width: 100, nodrag: true, nodrop: true, },
											{ title: "18:00", dataIndx: "hour18", width: 100, nodrag: true, nodrop: true, },
											{ title: "19:00", dataIndx: "hour19", width: 100, nodrag: true, nodrop: true, },
											{ title: "20:00", dataIndx: "hour20", width: 100, nodrag: true, nodrop: true, },
											{ title: "21:00", dataIndx: "hour21", width: 100, nodrag: true, nodrop: true, },

										];

										var options = {
											// scrollModel: {autoFit: true},  
											width: 'auto',
											minWidth: 980,
											// height: 'flex',
											minHeight: 200,
											// maxHeight: 400,
											rowHt: 45,
											rowHtHead: 45,
											collapsible: { on: false, toggle: false },

											columnBorders: true,
											rowBorders: true,
											stripeRows: true,

											dataModel: dataModel2,
											colModel: colModel2,
											selectionModel: { type: 'row', mode: 'block', column: false },

											columnTemplate: {
												align: 'center', valign: 'center'
											},
											editable: false,
											freezeCols: 0,
											freezeRows: 0,

											numberCell: { show: false },
											reactive: true,
											roundCorners: false,
											resizable: true,

											showHeader: true,
											showTitle: false,
											showToolbar: false,
											showTop: false,
											showBottom: false,
											virtualX: true, virtualY: true,

											title: "",
											strNoRows: '조회된 데이터가 없습니다.',
										};
										var grid = pq.grid("#grid_reservation", options);

										var mc = [],
											CM = grid.option("colModel"),
											data = grid.option("dataModel.data");

										for (var i = 0; i < data.length; i++) {
											mc.push({ r1: i, c1: 4, rc: 1, cc: CM.length });
										}

										grid.option('mergeCells', mc);
										grid.refreshView();
									});
								</script>

								<!-- //view -->
							</div>
						</div>
						<div class="tab-content">
							<div class="g-tab-inner">
								<p class="on">HTML</p>
								<pre class="syntax brush:html">


							</pre>
								<p>CSS</p>
								<pre class="syntax brush:css">

							</pre>
							</div>
						</div>

					</div>
				</div>
				<!-- //탭그룹 -->

				<!-- 탭그룹 -->
				<div class="row">
					<!-- <h3 class="g-tit-basic">List</h3> -->
					<div class="tab-wrap g-tab-sample ui-tab">
						<div class="tab-content">
							<div class="g-tab-inner">
								<!-- view -->
								<h3 class="g-tit-basic">ParamQuery Grid</h3>
								<div id="grid_select" style="margin:auto;"></div>

								<script>
									$(function () {
										var dataModel3 = {
											"data": [
												{ "no": 1, "voucher_status": "지급 대기", "voucher_sido": "울산광역시", "voucher_sigungu": "울주군", "voucher_number": "3646000001699", "member_agency": "-", "member_center": "-", "member_group": "-", "member_type": "-", "member_charge": "-", "member_name": "회원 이름", "member_etc": "" },
												{ "no": 2, "voucher_status": "지급 대기", "voucher_sido": "울산광역시", "voucher_sigungu": "울주군", "voucher_number": "3646000001699", "member_agency": "-", "member_center": "-", "member_group": "-", "member_type": "-", "member_charge": "-", "member_name": "회원 이름", "member_etc": "" },
												{ "no": 3, "voucher_status": "지급 대기", "voucher_sido": "울산광역시", "voucher_sigungu": "울주군", "voucher_number": "3646000001699", "member_agency": "-", "member_center": "-", "member_group": "-", "member_type": "-", "member_charge": "-", "member_name": "회원 이름", "member_etc": "" },
												{ "no": 4, "voucher_status": "지급 대기", "voucher_sido": "울산광역시", "voucher_sigungu": "울주군", "voucher_number": "3646000001699", "member_agency": "-", "member_center": "-", "member_group": "-", "member_type": "-", "member_charge": "-", "member_name": "회원 이름", "member_etc": "" },
												{ "no": 5, "voucher_status": "지급 대기", "voucher_sido": "울산광역시", "voucher_sigungu": "울주군", "voucher_number": "3646000001699", "member_agency": "-", "member_center": "-", "member_group": "-", "member_type": "-", "member_charge": "-", "member_name": "회원 이름", "member_etc": "" },
											]
										};

										var data_sigungu = ['a', 'b', 'c'];
										var data_agency = ['agency1', 'agency2', 'agency3'];
										var data_center = ['center1', 'center2', 'center3'];
										var data_group = ['group1', 'group2', 'group3'];

										var select_start = "<select id='sigungu' class='form_control'>";
										var options = "<option>선택</option>";
										var select_end = "</select>";

										var selectedAgencyIndex, selectedCenterIndex, selectedGroupIndex;

										for (var i = 0; i < data_sigungu.length; i++) {
											options += "<option value='" + data_sigungu[i] + "'>" + data_sigungu[i] + "</option>";
										}

										var select_sigungu = select_start + options + select_end;


										function createSelect(dataset, id) {
											var select_start = "<select id='" + id + "' class='form_control select_info'>";
											var options = "<option>선택</option>";
											var select_end = "</select>";
											var selectedIndex;

											switch (id) {
												case 'agency':
													options = "<option value=''>소속기관 선택</option>";
													break;
												case 'center':
													select_start = "<select id='" + id + "' class='form_control select_info' disabled>";
													options = "<option value=''>센터 선택</option>";
													break;
												case 'group':
													select_start = "<select id='" + id + "' class='form_control select_info' disabled>";
													options = "<option value=''>그룹 선택</option>";
													break;
											}

											for (var i = 0; i < dataset.length; i++) {
												options += "<option value='" + dataset[i] + "'>" + dataset[i] + "</option>";
											}
											return select_start + options + select_end;
										}

										var select_agency = createSelect(data_agency, 'agency');
										var select_center = createSelect(data_center, 'center');
										var select_group = createSelect(data_group, 'group');

										var selectedCell = [];
										var status_voucher = 0; // 0: 수정 불가능, 1: 수정 가능 (바우처 충전 개수(member_charge))

										var colModel3 = [
											{ title: "No", dataIndx: "no", width: 60, nodrag: true, nodrop: true, },
											{
												title: "<span class='header_title'>바우처 카드 정보<span>", dataIndx: "receipt", nodrag: true, nodrop: true, align: "center", sortable: false,
												colModel: [
													{ title: "카드 상태", dataIndx: "voucher_status", width: 100, nodrag: true, nodrop: true, cls: "hd_line br0" },
													{ title: "시도", dataIndx: "voucher_sido", width: 100, nodrag: true, nodrop: true, sortable: true, cls: "hd_line" },
													{ title: "시군구", dataIndx: "voucher_sigungu", width: 100, nodrag: true, nodrop: true, sortable: true, cls: "hd_line" },
													{ title: "바우처카드 번호", dataIndx: "voucher_number", width: 80, nodrag: true, nodrop: true, sortable: true, cls: "hd_line" }
												]
											},
											{
												title: "<span class='header_title'>회원 정보<span>", dataIndx: "member", nodrag: true, nodrop: true, align: "center",
												colModel: [
													{ title: select_agency, dataIndx: "member_agency", width: 100, nodrag: true, nodrop: true, cls: "hd_line br0" },
													{ title: select_center, dataIndx: "member_center", width: 100, nodrag: true, nodrop: true, cls: "hd_line" },
													{ title: select_group, dataIndx: "member_group", width: 100, nodrag: true, nodrop: true, cls: "hd_line" },
													{ title: "바우처 이용 유형", dataIndx: "member_type", width: 100, nodrag: true, nodrop: true, cls: "hd_line" },
													{
														title: "바우처 충전 개수", dataIndx: "member_charge", width: 100, nodrag: true, nodrop: true, cls: "hd_line",
														editable: function (ui) {
															if (status_voucher !== 1) {
																return false;
															}
															else {
																return true;
															}
														},
														render: function (ui) {
															var //grid = $(this).pqGrid('getInstance').grid,
																grid = this,
																rowData = ui.rowData,
																rowIndx = ui.rowIndx,
																dataIndx = ui.dataIndx;

															if (grid.isEditableCell({ rowIndx: rowIndx, dataIndx: dataIndx }) == false) {
																//inject disabled class into read only cells.                
																grid.addClass({ rowIndx: rowIndx, dataIndx: dataIndx, cls: 'disabled' });
															}
															else {
																grid.removeClass({ rowIndx: rowIndx, dataIndx: dataIndx, cls: 'disabled' });
															}
														}
													},
													{
														title: "회원 이름", dataIndx: "member_name", width: 100, nodrag: true, nodrop: true, cls: "hd_line",
														editor: {
															type: 'select',
															cls: 'form_control select_name',
															options: [
																{ "회원 이름": "회원 이름" },
																{ "김진혁": "김진혁" },
																{ "이정수": "이정수" },
																{ "송재성": "송재성" }
															],
														},
														editable: function (ui) {
															if (ui.rowData.member_agency === "-" || ui.rowData.member_center === "-" || ui.rowData.member_group === "-") {
																return false;
															}
															else {
																return true;
															}
														},
														render: function (ui) {
															var grid = this,
																rowData = ui.rowData,
																rowIndx = ui.rowIndx,
																dataIndx = ui.dataIndx;

															if (grid.isEditableCell({ rowIndx: rowIndx, dataIndx: dataIndx }) == false) {
																//inject disabled class into read only cells.                
																grid.addClass({ rowIndx: rowIndx, dataIndx: dataIndx, cls: 'disabled' });
															}
															else {
																grid.removeClass({ rowIndx: rowIndx, dataIndx: dataIndx, cls: 'disabled' });
															}
														}
													},
													{
														title: "비고", dataIndx: "member_etc", width: 100, nodrag: true, cls: "hd_line",
														render: function (ui) {
															var rowData = ui.rowData, dataIndx = ui.dataIndx;
															var val = rowData[dataIndx];
															var lst;

															var result = "<button type='button' class='btn_reset' disabled>초기화</button>";
															return result;
														},
														postRender: function (ui) {
															var rowIndx = ui.rowIndx,
																grid = this,
																$cell = grid.getCell(ui);

															$cell.find(".btn_reset").bind("click", function (evt) {
																console.log('reset');
																var tg = $(this);
																var rowdata = grid.getData();
																var items = { "member_agency": "-", "member_center": "-", "member_group": "-", "member_type": "-", "member_charge": "-", "member_name": "회원 이름" };

																rowdata[rowIndx].member_agency = "-";
																rowdata[rowIndx].member_center = "-";
																rowdata[rowIndx].member_group = "-";
																rowdata[rowIndx].member_type = "-";
																rowdata[rowIndx].member_charge = "-";
																rowdata[rowIndx].member_name = "회원 이름";

																selectedAgencyIndex = 0;
																selectedCenterIndex = 0;
																selectedGroupIndex = 0;

																tg.attr('disabled', true);
																var idx = selectedCell.indexOf($cell.attr('id'));
																selectedCell.splice(idx, 1);
															});
														},
													},
												]
											}
										];


										var options3 = {
											scrollModel: { autoFit: true },
											width: 'auto',
											minWidth: 980,
											// height: 'flex',
											// minHeight: 500,
											rowHt: 50,
											rowHtHead: 36,
											collapsible: { on: false, toggle: false },

											columnBorders: true,
											rowBorders: true,
											stripeRows: true,

											dataModel: dataModel3,
											colModel: colModel3,
											selectionModel: { type: 'row', mode: 'block', column: false },
											trackModel: { on: true },
											historyModel: { on: true },
											editModel: {
												clicksToEdit: 1,
												keyUpDown: false,
												onBlur: 'save'
											},

											postRenderInterval: -1, //synchronous post rendering.
											columnTemplate: { align: 'center', valign: 'center' },
											editable: true,
											freezeCols: 0,
											freezeRows: 0,

											numberCell: { show: false },
											reactive: true,
											roundCorners: false,
											resizable: true,

											showHeader: true,
											showTitle: false,
											showToolbar: false,
											showTop: false,
											showBottom: false,
											virtualX: true, virtualY: true,

											title: "",
											strNoRows: '조회된 데이터가 없습니다.',

											refresh: function (event, ui) {
												// console.log(ui);
												$('#agency option').eq(selectedAgencyIndex).attr('selected', true);
												$('#center option').eq(selectedCenterIndex).attr('selected', true);
												$('#group option').eq(selectedGroupIndex).attr('selected', true);

												if ($('#agency').val() !== '') {
													$('#center').attr('disabled', false);
												}
												if ($('#center').val() !== '') {
													$('#group').attr('disabled', false);
												}
												selectedCell.forEach(function (item, i) {
													console.log('refresh disabled')
													$('#' + item).find('button').attr('disabled', false);
												});
											},
											change: function (event, ui) {
												console.log('change data');
												var dataIndx = Object.keys(ui.updateList[0].newRow)[0];
												var rowIndex = ui.updateList[0].rowIndx;
												var $cell = grid.getCell({ rowIndx: rowIndex, dataIndx: dataIndx }).next();

												var arr_cellId = selectedCell.filter(function (item) {
													return item === $cell.attr('id');
												});

												if (dataIndx === 'member_name' && arr_cellId.length === 0) {
													selectedCell.push($cell.attr('id'));
												}
											}
										};
										var grid = pq.grid("#grid_select", options3);

										$(document).on('change', 'select.select_info', function (evt) {
											console.log('change select_info');
											var tg = $(this);
											var val = tg.val();
											var rowdata = grid.getData();

											var idx = tg.attr('id');
											var items;

											switch (idx) {
												case 'agency':
													selectedAgencyIndex = tg.find('option').index(tg.find('option:selected'));
													items = { "member_agency": val };
													for (var i = 0; i < rowdata.length; i++) {
														rowdata[i].member_agency = val;
													}
													break;
												case 'center':
													selectedCenterIndex = tg.find('option').index(tg.find('option:selected'));
													items = { "member_center": val };
													for (var i = 0; i < rowdata.length; i++) {
														rowdata[i].member_center = val;
													}
													break;
												case 'group':
													selectedGroupIndex = tg.find('option').index(tg.find('option:selected'));
													items = { "member_group": val, "member_type": "그룹", "member_charge": 30 };
													for (var i = 0; i < rowdata.length; i++) {
														rowdata[i].member_group = val;
														rowdata[i].member_type = '그룹';
														rowdata[i].member_charge = 30;
													}
													break;
											}

											grid.refreshDataAndView();
										});
									});
								</script>

								<!-- //view -->
							</div>
						</div>
						<div class="tab-content">
							<div class="g-tab-inner">
								<p class="on">HTML</p>
								<pre class="syntax brush:html">


							</pre>
								<p>CSS</p>
								<pre class="syntax brush:css">

							</pre>
							</div>
						</div>

					</div>
				</div>
				<!-- //탭그룹 -->
			</div>
		</div>
	</div>
</body>

</html>